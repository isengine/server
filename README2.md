# Сервер

Это репозиторий с настройками для запуска продакшн сервера.

# Оглавление

- [О проекте](#о-проекте)
- [Состав](#Состав)
  - [API](#api)
  - [Static Server](#static-server)
  - [Web-приложение](#web-приложение)
  - [Административная панель](#административная-панель)
- [Сервер](#сервер)
  - [Работа прокси сервера](#работа-прокси-сервера)
  - [Настройка сервера](#настройка-сервера)
- [Сборка](#сборка)
  - [Сборка на базе серверов](#сборка-на-базе-серверов)
  - [Сборка на базе контейнеров](#сборка-на-базе-контейнеров)

# О проекте

## Микросервисная архитектура

Мы предполагаем, что ваше приложение будет построено на базе микросервисной архитектуры.

В состав микросервисов будут входить:

- Backend:
  - API,
  - Static Server,
- Frontend:
  - Web-приложение,
  - Административная панель.

Такое приложение имеет ряд преимуществ перед fullstack-приложением.

Во-первых, каждый микросервис можно разрабатывать независимо, на любом удобном языке и фреймворке. Их можно дорабатывать и менять, используя новые технологии. При всем этом, изменение одного сервиса не затронет другие сервисы.

Во-вторых, каждый микросервис можно переиспользовать для других приложений.

В-третьих, приложение можно разделить на еще более слабосвязанные сервисы. Например, из состава приложения можно вынести модуль авторизации в качестве отдельного сервиса, со своим API, базой данных, личным кабинетом и т.д.

Конечно, микросервисы будут так или иначе связаны друг с другом. Для этого они должны иметь ряд стандартов, которые описывают обмен данными и другие принципы взаимодействия.

Эти стандарты будут поддерживаться интерфейсами.

Но центральной точкой будет служить, конечно, API.

Здесь важно правильно настроить сервер, чтобы он мог развести сервисы не только по разным портам, но и по разным адресам.

[^ к оглавлению](#оглавление)

# Состав

## API

Запуск и настройка этого сервиса подробно описаны в другом нашем репозитории:

https://github.com/isengine/servapi

[^ к оглавлению](#оглавление)

## Static Server

Запуск и настройка этого сервиса подробно описаны в другом нашем репозитории:

https://github.com/isengine/servstatic

[^ к оглавлению](#оглавление)

## Web-приложение

[^ к оглавлению](#оглавление)

## Административная панель

[^ к оглавлению](#оглавление)

# Сервер

# Работа прокси сервера

В качестве прокси сервера будет выступать nginx.

Его основная задача - маршрутизация. Он будет перенаправлять запросы, поступающие от клиента, к сервису. И затем ответ от сервиса возвращать клиенту.

Говоря иначе, он будет управлять потоком данных внутри вашего большого приложения. Запросы могут поступать как извне, например от браузера пользователя, так и изнутри, например от web-приложения к API, от API к базе данных и т.д.

Если все сервисы будут реализованы на одном большом сервере, проблем нет.

Однако в реальности, особенно с развитием вашего приложения, нужно рассчитывать, что у вас будет несколько виртуальных серверов. Как минимум по одному на каждый сервис. И даже некоторые сервисы будут занимать несколько серверов.

Здесь проксирование будет более сложным. Плюс к нему добавится балансировщик нагрузки.

В этом случае мы предлагаем два варианта архитектуры:

- на базе серверов, с полной настройкой каждого,
- на базе контейнеров.

[^ к оглавлению](#оглавление)

# Настройка сервера

В качестве прокси сервера будет выступать nginx.

[^ к оглавлению](#оглавление)

# Сборка

## Сборка на базе серверов

Современная архитектура построения предполагает два варианта использования:

[^ к оглавлению](#оглавление)

## Сборка на базе контейнеров

Современная архитектура построения предполагает два варианта использования:
- на базе серверов с полной настройкой каждого,
- на базе контейнеров.

Говоря

[^ к оглавлению](#оглавление)

